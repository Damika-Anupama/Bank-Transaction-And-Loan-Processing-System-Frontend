<!-- Page Header -->
<div class="mb-8 animate-fade-in">
  <h1 class="text-4xl font-bold text-white mb-2">Loan Approvals</h1>
  <p class="text-white/70">Review and approve pending loan applications</p>
</div>

<!-- Loans Table -->
<div class="glass-card p-6 animate-slide-up">
  <div class="mb-6">
    <h2 class="text-2xl font-bold text-white mb-1 flex items-center">
      <i class="fas fa-handshake mr-3 text-glass-emerald"></i>
      Pending Loan Applications
    </h2>
    <p class="text-white/60 text-sm">Loans awaiting your approval</p>
  </div>

  <div class="overflow-x-auto">
    <table class="w-full">
      <thead>
        <tr>
          <th class="text-left px-6 py-4 text-white/80 font-semibold text-sm uppercase tracking-wider">
            <i class="fas fa-hashtag mr-2"></i>#
          </th>
          <th class="text-left px-6 py-4 text-white/80 font-semibold text-sm uppercase tracking-wider">Loan ID</th>
          <th class="text-left px-6 py-4 text-white/80 font-semibold text-sm uppercase tracking-wider">Amount</th>
          <th class="text-left px-6 py-4 text-white/80 font-semibold text-sm uppercase tracking-wider">Customer ID</th>
          <th class="text-left px-6 py-4 text-white/80 font-semibold text-sm uppercase tracking-wider">Duration</th>
          <th class="text-left px-6 py-4 text-white/80 font-semibold text-sm uppercase tracking-wider">Interest</th>
          <th class="text-left px-6 py-4 text-white/80 font-semibold text-sm uppercase tracking-wider">Type</th>
          <th class="text-center px-6 py-4 text-white/80 font-semibold text-sm uppercase tracking-wider">Action</th>
        </tr>
      </thead>
      <tbody>
        <tr
          *ngFor="let loan of loans; let i = index"
          class="transition-all duration-300 hover:bg-white/5"
        >
          <td class="px-6 py-4 text-white/90 font-mono">{{ i + 1 }}</td>
          <td class="px-6 py-4">
            <span class="glass-badge bg-gradient-to-r from-glass-purple/80 to-glass-blue/80">
              <i class="fas fa-fingerprint mr-1"></i>
              {{ loan.loan_basic_detail_id }}
            </span>
          </td>
          <td class="px-6 py-4">
            <span class="text-white font-semibold text-lg">
              Rs. {{ loan.amount | number }}
            </span>
          </td>
          <td class="px-6 py-4 text-white/90 font-mono">{{ loan.customer_id }}</td>
          <td class="px-6 py-4">
            <span class="glass-badge bg-gradient-to-r from-glass-emerald/80 to-glass-cyan/80">
              <i class="far fa-clock mr-1"></i>
              {{ loan.duration_days }} days
            </span>
          </td>
          <td class="px-6 py-4">
            <span class="text-glass-orange font-semibold">
              <i class="fas fa-percentage mr-1"></i>
              {{ loan.interest }}%
            </span>
          </td>
          <td class="px-6 py-4">
            <span
              class="glass-badge"
              [ngClass]="{
                'bg-gradient-to-r from-glass-purple/80 to-glass-pink/80': loan.loan_type === 'Personal',
                'bg-gradient-to-r from-glass-cyan/80 to-glass-blue/80': loan.loan_type === 'Business'
              }"
            >
              <i
                [ngClass]="{
                  'fas fa-user': loan.loan_type === 'Personal',
                  'fas fa-briefcase': loan.loan_type === 'Business'
                }"
                class="mr-1"
              ></i>
              {{ loan.loan_type }}
            </span>
          </td>
          <td class="px-6 py-4">
            <div class="flex items-center justify-center gap-2">
              <button
                class="glass-button-sm bg-gradient-to-r from-glass-emerald/30 to-glass-cyan/30 hover:from-glass-emerald/50 hover:to-glass-cyan/50"
                (click)="approve()"
              >
                <i class="fas fa-check mr-1"></i>
                Approve
              </button>
              <button
                class="glass-button-sm bg-gradient-to-r from-glass-pink/30 to-glass-orange/30 hover:from-glass-pink/50 hover:to-glass-orange/50"
                (click)="reject()"
              >
                <i class="fas fa-times mr-1"></i>
                Reject
              </button>
            </div>
          </td>
        </tr>
      </tbody>
    </table>

    <!-- Empty State -->
    <div *ngIf="!loans || loans.length === 0" class="text-center py-12">
      <div class="text-6xl text-white/20 mb-4">
        <i class="fas fa-clipboard-check"></i>
      </div>
      <p class="text-white/60">No pending loan applications</p>
      <p class="text-white/40 text-sm mt-2">All loans have been processed</p>
    </div>
  </div>
</div>
