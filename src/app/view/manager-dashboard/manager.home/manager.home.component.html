<!-- Page Header -->
<div class="mb-8 animate-fade-in">
  <h1 class="text-4xl font-bold text-white mb-2">Manager Dashboard</h1>
  <p class="text-white/70">Overview of branch operations and statistics</p>
</div>

<!-- Stat Cards -->
<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8 animate-slide-up">
  <!-- Manager ID Card -->
  <div class="stat-card bg-gradient-to-br from-glass-pink/30 to-glass-orange/30">
    <div class="flex items-center justify-between">
      <div>
        <p class="text-white/70 text-sm mb-2">Your Manager ID</p>
        <h3 class="text-3xl font-bold text-white">00000{{ manager_id }}</h3>
      </div>
      <div class="text-6xl text-white/20">
        <i class="fas fa-id-badge"></i>
      </div>
    </div>
  </div>

  <!-- Branch Card -->
  <div class="stat-card bg-gradient-to-br from-glass-cyan/30 to-glass-blue/30" style="animation-delay: 0.1s;">
    <div class="flex items-center justify-between">
      <div>
        <p class="text-white/70 text-sm mb-2">Your Branch</p>
        <h3 class="text-2xl font-bold text-white">{{ branch_name }}</h3>
      </div>
      <div class="text-6xl text-white/20">
        <i class="fas fa-building"></i>
      </div>
    </div>
  </div>

  <!-- Employees Card -->
  <div class="stat-card bg-gradient-to-br from-glass-emerald/30 to-glass-cyan/30" style="animation-delay: 0.2s;">
    <div class="flex items-center justify-between">
      <div>
        <p class="text-white/70 text-sm mb-2">Employees</p>
        <h3 class="text-3xl font-bold text-white">{{ num_employees }}</h3>
      </div>
      <div class="text-6xl text-white/20">
        <i class="fas fa-users"></i>
      </div>
    </div>
  </div>

  <!-- Total Accounts Card -->
  <div class="stat-card bg-gradient-to-br from-glass-purple/30 to-glass-pink/30" style="animation-delay: 0.3s;">
    <div class="flex items-center justify-between">
      <div>
        <p class="text-white/70 text-sm mb-2">Total Accounts</p>
        <h3 class="text-3xl font-bold text-white">{{ num_accounts }}</h3>
      </div>
      <div class="text-6xl text-white/20">
        <i class="fas fa-wallet"></i>
      </div>
    </div>
  </div>
</div>

<!-- Transactions Table -->
<div class="glass-card p-6 mb-8 animate-slide-up" style="animation-delay: 0.4s;">
  <div class="mb-6">
    <h2 class="text-2xl font-bold text-white mb-1 flex items-center">
      <i class="fas fa-exchange-alt mr-3 text-glass-cyan"></i>
      Branch Transactions
    </h2>
    <p class="text-white/60 text-sm">All transactions for your branch</p>
  </div>

  <div class="overflow-x-auto">
    <table class="w-full">
      <thead>
        <tr>
          <th class="text-left px-6 py-4 text-white/80 font-semibold text-sm uppercase tracking-wider">#</th>
          <th class="text-left px-6 py-4 text-white/80 font-semibold text-sm uppercase tracking-wider">Transaction ID</th>
          <th class="text-left px-6 py-4 text-white/80 font-semibold text-sm uppercase tracking-wider">Amount</th>
          <th class="text-left px-6 py-4 text-white/80 font-semibold text-sm uppercase tracking-wider">From</th>
          <th class="text-left px-6 py-4 text-white/80 font-semibold text-sm uppercase tracking-wider">To</th>
          <th class="text-left px-6 py-4 text-white/80 font-semibold text-sm uppercase tracking-wider">Time</th>
          <th class="text-left px-6 py-4 text-white/80 font-semibold text-sm uppercase tracking-wider">Direction</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let transaction of transactions; let i = index" class="transition-all duration-300 hover:bg-white/5">
          <td class="px-6 py-4 text-white/90 font-mono">{{ i + 1 }}</td>
          <td class="px-6 py-4">
            <span class="glass-badge bg-gradient-to-r from-glass-purple/80 to-glass-blue/80">
              {{ transaction.transfer_id }}
            </span>
          </td>
          <td class="px-6 py-4 text-white font-semibold">Rs. {{ transaction.amount | number }}</td>
          <td class="px-6 py-4 text-white/90 font-mono">{{ transaction.from_account }}</td>
          <td class="px-6 py-4 text-white/90 font-mono">{{ transaction.to_account }}</td>
          <td class="px-6 py-4 text-white/90"><i class="far fa-calendar mr-2"></i>{{ transaction.transferd_time | date: 'yyyy-MM-dd' }}</td>
          <td class="px-6 py-4">
            <span *ngIf="transaction.direction == 'up'" class="glass-badge bg-gradient-to-r from-glass-emerald/80 to-glass-cyan/80">
              <i class="fas fa-arrow-down mr-1"></i>In
            </span>
            <span *ngIf="transaction.direction == 'down'" class="glass-badge bg-gradient-to-r from-glass-orange/80 to-glass-pink/80">
              <i class="fas fa-arrow-up mr-1"></i>Out
            </span>
            <span *ngIf="transaction.direction == 'no-change'" class="glass-badge bg-gradient-to-r from-glass-blue/80 to-glass-purple/80">
              <i class="fas fa-minus mr-1"></i>No Change
            </span>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<!-- Withdrawals Table -->
<div class="glass-card p-6 mb-8 animate-slide-up" style="animation-delay: 0.5s;">
  <div class="mb-6">
    <h2 class="text-2xl font-bold text-white mb-1 flex items-center">
      <i class="fas fa-money-bill-wave mr-3 text-glass-emerald"></i>
      Branch Withdrawals
    </h2>
    <p class="text-white/60 text-sm">All withdrawal transactions</p>
  </div>

  <div class="overflow-x-auto">
    <table class="w-full">
      <thead>
        <tr>
          <th class="text-left px-6 py-4 text-white/80 font-semibold text-sm uppercase tracking-wider">#</th>
          <th class="text-left px-6 py-4 text-white/80 font-semibold text-sm uppercase tracking-wider">Withdrawal ID</th>
          <th class="text-left px-6 py-4 text-white/80 font-semibold text-sm uppercase tracking-wider">Amount</th>
          <th class="text-left px-6 py-4 text-white/80 font-semibold text-sm uppercase tracking-wider">Account ID</th>
          <th class="text-left px-6 py-4 text-white/80 font-semibold text-sm uppercase tracking-wider">Withdrawal Time</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let withdrawal of withdrwals; let i = index" class="transition-all duration-300 hover:bg-white/5">
          <td class="px-6 py-4 text-white/90 font-mono">{{ i + 1 }}</td>
          <td class="px-6 py-4">
            <span class="glass-badge bg-gradient-to-r from-glass-emerald/80 to-glass-cyan/80">
              {{ withdrawal.withdrawal_id }}
            </span>
          </td>
          <td class="px-6 py-4 text-white font-semibold">Rs. {{ withdrawal.amount | number }}</td>
          <td class="px-6 py-4 text-white/90 font-mono">{{ withdrawal.account_id }}</td>
          <td class="px-6 py-4 text-white/90"><i class="far fa-calendar mr-2"></i>{{ withdrawal.withdrawal_time | date: 'yyyy-MM-dd' }}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<!-- Late Loans Table -->
<div class="glass-card p-6 animate-slide-up" style="animation-delay: 0.6s;">
  <div class="mb-6">
    <h2 class="text-2xl font-bold text-white mb-1 flex items-center">
      <i class="fas fa-exclamation-triangle mr-3 text-glass-orange"></i>
      Late Loan Installments
    </h2>
    <p class="text-white/60 text-sm">Overdue loan payments requiring attention</p>
  </div>

  <div class="overflow-x-auto">
    <table class="w-full">
      <thead>
        <tr>
          <th class="text-left px-6 py-4 text-white/80 font-semibold text-sm uppercase tracking-wider">#</th>
          <th class="text-left px-6 py-4 text-white/80 font-semibold text-sm uppercase tracking-wider">Installment ID</th>
          <th class="text-left px-6 py-4 text-white/80 font-semibold text-sm uppercase tracking-wider">Installment #</th>
          <th class="text-left px-6 py-4 text-white/80 font-semibold text-sm uppercase tracking-wider">Due Date</th>
          <th class="text-left px-6 py-4 text-white/80 font-semibold text-sm uppercase tracking-wider">Amount</th>
          <th class="text-left px-6 py-4 text-white/80 font-semibold text-sm uppercase tracking-wider">Loan ID</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let loan of loans; let i = index" class="transition-all duration-300 hover:bg-white/5">
          <td class="px-6 py-4 text-white/90 font-mono">{{ i + 1 }}</td>
          <td class="px-6 py-4">
            <span class="glass-badge bg-gradient-to-r from-glass-pink/80 to-glass-orange/80">
              {{ loan.installment_id }}
            </span>
          </td>
          <td class="px-6 py-4 text-white/90">{{ loan.installment_number }}</td>
          <td class="px-6 py-4 text-white/90"><i class="far fa-calendar mr-2 text-red-400"></i>{{ loan.due_date | date: 'yyyy-MM-dd' }}</td>
          <td class="px-6 py-4 text-white font-semibold">Rs. {{ loan.amount | number }}</td>
          <td class="px-6 py-4 text-white/90 font-mono">{{ loan.loan_basic_detail_id }}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
